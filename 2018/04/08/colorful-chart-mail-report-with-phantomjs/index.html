<!DOCTYPE html><html lang="zh-cmn-Hans"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>用 PhantomJS 让邮件报表图文并茂（一） · 亦知亦解</title><meta name="description" content="用 PhantomJS 让邮件报表图文并茂（一） - krimeshu"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/gandalfr.css"><link rel="stylesheet" href="https://highlightjs.org/static/demo/styles/solarized-light.css"><link rel="search" type="application/opensearchdescription+xml" href="http://blog.krimeshu.com/atom.xml" title="亦知亦解"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/icon-tech.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="//github.com/krimeshu" target="_self" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">用 PhantomJS 让邮件报表图文并茂（一）</h1><div class="tags"><a href="/tags/前端/" class="tag-title">#前端</a><a href="/tags/PhantomJS/" class="tag-title">#PhantomJS</a><a href="/tags/邮件/" class="tag-title">#邮件</a></div><div class="post-info">Apr 8, 2018</div><aside id="toc" class="toc-wrap"><h3 class="toc-title">目录</h3><div class="toc-tree"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#将图表转换为图片"><span class="toc-text">将图表转换为图片</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#phantomJS-脚本实现"><span class="toc-text">phantomJS 脚本实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#自动化"><span class="toc-text">自动化</span></a></li></ol></div></aside><style type="text/css">.toc-wrap {
    float: right;
    padding: 10px 30px 20px 24px;
    margin-bottom: 10px;
    background: #f2f8f2;
}
.toc-title::before {
    content: '#';
    color: #42b983
}
.toc, .toc-child {
    list-style: none;
    padding-left: 20px;
}</style><div class="post-content"><p>在部门日常业务中，每天都会产生各种各样的数据。为了让抽象的数据，更加调理方便人阅读，就需要将数据整理成表格、图表等形式，以更生动的面貌展示在人们眼前。</p>
<a id="more"></a>
<p>通常 <strong>Web</strong> 端可以采用 <strong>ECharts</strong> 等方案来实现丰富的图表效果，但报表邮件由于各种邮件客户端环境的关系，虽然是使用 <strong>HTML</strong> 编写邮件内容，可用的样式、布局都有会诸多限制，甚至不允许执行 <strong>JavaScript</strong> 脚本。</p>
<p>传统报表邮件中，只能以简单的 <strong>table</strong> 表格来展示数据，一但数据维度增加、业务日渐复杂，报表邮件将变得越来越冗杂、难以理解。</p>
<p>那么有没有什么办法，让邮件也能实现图文并茂的图表呢？</p>
<h2 id="将图表转换为图片"><a href="#将图表转换为图片" class="headerlink" title="将图表转换为图片"></a>将图表转换为图片</h2><p>虽然邮件不支持脚本生成的 canvas 图表，但却是支持图片展示的。</p>
<p>那么只要能将图表截取为图片添加回邮件内，就能在邮件客户端里看到了，这就是我们要做的第一步。canvas 已经提供了 toDataURL 的方法，可以将画布内容转换成 img 能显示的 DataURL。</p>
<p>所以将网页内的 canvas 内容都提取出来，放到相同大小的 img 标签内，替换掉原本文档流中的 canvas，这样在邮件客户端内就能看到图表内容了吧？</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.querySelectorAll(<span class="string">'canvas'</span>)</span><br><span class="line">    .forEach(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> img = <span class="built_in">document</span>.createElement(<span class="string">'img'</span>);</span><br><span class="line">        img.className = canvas.className;</span><br><span class="line">        <span class="comment">// img.style.cssText = canvas.style.cssText;</span></span><br><span class="line">        <span class="keyword">var</span> cssText = canvas.getAttribute(<span class="string">'style'</span>);</span><br><span class="line">        img.setAttribute(<span class="string">'style'</span>, cssText);</span><br><span class="line">        img.width = canvas.width;</span><br><span class="line">        img.height = canvas.height;</span><br><span class="line"></span><br><span class="line">        img.src = canvas.toDataURL();</span><br><span class="line"></span><br><span class="line">        canvas.parentElement.insertBefore(img, canvas);</span><br><span class="line">        canvas.parentElement.removeChild(canvas);</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p>打开图表页面，在控制台执行这段脚本后，页面里的所有 canvas 都被替换成了静态截图。</p>
<p>需要注意，很多图表库可能会有“启动/展开动画”，在这段动画完成前截图，得到的并不是我们想要的效果。</p>
<p>所以还需要给这段截图脚本加个延时处理，在所有图表完全展示后在进行截图。我们一般简单设定个2-3秒即可。</p>
<p>对于一些具有交互效果的图表（如鼠标 hover 时展示数值），由于变成了静态图，这些交互都会消失。</p>
<p>所以一些关键数据，需要改为默认显示，不需要通过交互触发，以便脚本截图时能截取到。</p>
<h2 id="phantomJS-脚本实现"><a href="#phantomJS-脚本实现" class="headerlink" title="phantomJS 脚本实现"></a>phantomJS 脚本实现</h2><p>基本思路出来了，那么如何把它运用在我们生成报表邮件的服务器上呢？</p>
<p>使用 <strong>PHPMailer</strong> 和 <strong>nodemailer</strong> 等组件发送邮件时，都是提供一个本地路径作为附件参数。组件发送邮件时从本地文件中读取并发送。</p>
<p>所以我们对图表的截图需要保存在本地，这里不方便通过页面内部脚本实现，我们可以借助 <strong>phantomJS</strong> 的截图 API。</p>
<p><strong>phantomJS</strong> 脚本中可以这样写：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">var</span> page = <span class="built_in">require</span>(<span class="string">'webpage'</span>).create();</span><br><span class="line"><span class="keyword">var</span> system = <span class="built_in">require</span>(<span class="string">'system'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可改为外部传参</span></span><br><span class="line"><span class="keyword">var</span> outputDir = <span class="string">'.'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将页面内的 canvas 保存为图片</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">saveCanvasAsImage</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 检测页面中所有 canvas 的位置</span></span><br><span class="line">    <span class="keyword">var</span> _canvasArr = page.evaluate(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> canvasArr = [];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> canvasList = <span class="built_in">document</span>.querySelectorAll(<span class="string">'canvas'</span>);</span><br><span class="line">        [].forEach.call(canvasList, <span class="function"><span class="keyword">function</span> (<span class="params">canvas, idx</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> name = <span class="string">'attach_'</span> + idx + <span class="string">'.png'</span>;</span><br><span class="line">            canvas.setAttribute(<span class="string">'data-image-file-name'</span>, name);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> rect = canvas.getBoundingClientRect();</span><br><span class="line">            canvasArr.push(&#123;</span><br><span class="line">                name: name,</span><br><span class="line">                top: rect.top,</span><br><span class="line">                left: rect.left,</span><br><span class="line">                width: rect.width,</span><br><span class="line">                height: rect.height</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> canvasArr;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 对检测到的 canvas 进行截图</span></span><br><span class="line">    _canvasArr.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">canvasInfo</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> name = canvasInfo.name;</span><br><span class="line"></span><br><span class="line">        page.clipRect = canvasInfo;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            page.render(outputDir + <span class="string">'/'</span> + name, &#123;</span><br><span class="line">                format: <span class="string">'png'</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ex) &#123;</span><br><span class="line">            <span class="built_in">console</span>.error(<span class="string">'canvas 截图失败：'</span>, ex);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 保存附件列表，供发邮件侧查询</span></span><br><span class="line">    <span class="keyword">var</span> filePath = outputDir + <span class="string">'/data-mail-attach-image.list'</span>;</span><br><span class="line">    <span class="keyword">var</span> fileContent = _canvasArr.map(<span class="function"><span class="keyword">function</span> (<span class="params">canvasInfo</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> canvasInfo.name;</span><br><span class="line">    &#125;).join(<span class="string">'\n'</span>);</span><br><span class="line"></span><br><span class="line">    fs.write(filePath, fileContent, <span class="string">'w'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>邮件内的附件会有一个 <strong>cid</strong> 标记，我们这边约定好，发送邮件时的 <strong>cid</strong> 使用刚才保存到 <strong>data-mail-attach-image.list</strong> 内的图片文件名即可。</p>
<p>需要注意的是，<strong>phantomJS</strong> 的 <strong>webkit</strong> 内核可能过旧，<strong>querySelectorAll</strong> 返回的 <strong>dom list</strong> 没有 <strong>forEach</strong> 函数的话，需要通过 <strong>[].forEach.call</strong> 来实现。</p>
<p>接下来则是将 <strong>canvas</strong> 替换为使用 <strong>cid</strong> 标记附件资源的 <strong>img</strong> 标签：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 用附件图片替换 canvas</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">replaceCanvasWithImage</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    page.evaluate(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> canvasList = <span class="built_in">document</span>.querySelectorAll(<span class="string">'canvas'</span>);</span><br><span class="line">        [].forEach.call(canvasList, <span class="function"><span class="keyword">function</span> (<span class="params">canvas</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> imageFileName = canvas.getAttribute(<span class="string">'data-image-file-name'</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> img = <span class="built_in">document</span>.createElement(<span class="string">'img'</span>);</span><br><span class="line">            img.className = canvas.className;</span><br><span class="line">            <span class="comment">// img.style.cssText = canvas.style.cssText;</span></span><br><span class="line">            <span class="keyword">var</span> cssText = canvas.getAttribute(<span class="string">'style'</span>);</span><br><span class="line">            img.setAttribute(<span class="string">'style'</span>, cssText);</span><br><span class="line">            img.width = canvas.width;</span><br><span class="line">            img.height = canvas.height;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// img.src = canvas.toDataURL();</span></span><br><span class="line">            img.src = <span class="string">'cid: '</span> + imageFileName;</span><br><span class="line"></span><br><span class="line">            canvas.parentElement.insertBefore(img, canvas);</span><br><span class="line">            canvas.parentElement.removeChild(canvas);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>最后，做好清理页面脚本等收尾工作，将最终的页面 <strong>dom</strong> 转为 <strong>html</strong> 即可。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 收尾并保存 html</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tailInWorkAndSaveHtml</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 清理邮件客户端内无效的 script 标签</span></span><br><span class="line">    page.evaluate(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> scriptList = <span class="built_in">document</span>.querySelectorAll(<span class="string">'script'</span>);</span><br><span class="line">        [].forEach.call(scriptList, <span class="function"><span class="keyword">function</span> (<span class="params">script</span>) </span>&#123;</span><br><span class="line">            script.parentElement.removeChild(script);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 提取页面的 outterHTML，添加 DOCTYPE 后保存为 html 文件，作为邮件内容</span></span><br><span class="line">    <span class="keyword">var</span> html = page.evaluate(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">document</span>.documentElement.outerHTML;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> filePath = outputDir + <span class="string">'/data-mail.html'</span>;</span><br><span class="line">    <span class="keyword">var</span> fileContent = <span class="string">'&lt;!DOCTYPE html&gt;\n'</span> + html;</span><br><span class="line"></span><br><span class="line">    fs.write(filePath, fileContent, <span class="string">'w'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>跑完整个流程的逻辑的入口：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">exit</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Mail render done.'</span>);</span><br><span class="line">    phantom.exit();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 开始工作</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">work</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 从参数中取需要处理的页面路径</span></span><br><span class="line">    <span class="keyword">var</span> filePath = fs.absolute(outputDir + <span class="string">'/'</span> + system.args[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    page.open(filePath, <span class="function"><span class="keyword">function</span> (<span class="params">status</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 检查页面是否正常加载完毕</span></span><br><span class="line">        <span class="keyword">if</span> (status !== <span class="string">'success'</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.error(<span class="string">'Mail render error: '</span> + status);</span><br><span class="line">            exit();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">       <span class="comment">// 2.5 秒后开始对图表截图</span></span><br><span class="line">        setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                saveCanvasAsImage();</span><br><span class="line">                replaceCanvasWithImage();</span><br><span class="line">                tailInWorkAndSaveHtml();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (ex) &#123;</span><br><span class="line">                <span class="built_in">console</span>.error(<span class="string">'Mail render error:'</span>);</span><br><span class="line">                <span class="built_in">console</span>.error(ex);</span><br><span class="line">            &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                exit();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="number">2500</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
<h2 id="自动化"><a href="#自动化" class="headerlink" title="自动化"></a>自动化</h2><p>将上述脚本保存为 <strong>mail-render.js</strong>，通过将报表数据转为 <strong>ECharts</strong> 等前端图标库实现的页面后（如保存在本地，路径为：<strong>./report_20180408.html</strong>），通过服务器环境执行这段 <strong>shell</strong> 脚本：<code>phantomjs mail-render.js ./report_20180408.html</code>。</p>
<p>然后将生成的 <strong>data-mail.html</strong> 作为邮件内容，<strong>data-mail-attach-image.list</strong> 内的图片作为附件，调用 <strong>PHPMailer/nodemailer</strong> 发送邮件即可。</p>
</div></article></div></main><footer><div class="paginator"><a href="/2018/08/24/colorful-chart-mail-report-with-phantomjs-1/" class="prev">PREV</a><a href="/2018/01/31/basic-knowledge-points-for-beginner-3/" class="next">NEXT</a></div><div id="lv-container" data-id="city" data-uid="MTAyMC8zNDQzMi8xMDk2OQ=="></div><script>(function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
})(document, 'script');</script><div class="copyright"><p>© 2017 - 2020 <a href="http://blog.krimeshu.com">krimeshu</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/MikeCoder/hexo-theme-gandalfr" target="_blank">hexo-theme-gandalfr</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1261274049'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s11.cnzz.com/z_stat.php%3Fid%3D1261274049%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script></p></div></footer></div><script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js" crossorigin="anonymous"></script><script src="//cdn.bootcss.com/jquery/3.1.1/jquery.js" crossorigin="anonymous"></script><script>$(document).ready(function() { $('pre').each(function(i, block) { hljs.highlightBlock(block); }); });</script></body></html>