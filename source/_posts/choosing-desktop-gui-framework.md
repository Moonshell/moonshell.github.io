---
title: 关于桌面应用开发框架的选择
categories:
- 桌面应用
tags:
- 桌面应用
- 感想
toc: true
---

这两天，翻出几年前在学校时用 `winform` 写的小工具，发现虽然还能用，但有些地方已经有待改进了。

估算一下，重写工具的核心代码大概也就一、两KB，毕竟只是每次打开后只用几分钟的小工具，用来爬一爬网站内容之类的需求。

如果用 `node.js` 重写的话，GUI 部分首先是想到用 `electron` 开发。但现在 `electron` 动不动就上百MB的大小，用来开发这样的小工具实在是有点不划算。而且在自己另一台破电脑上，`electron` 启动时间动不动就是十几秒，反应也不是很灵敏，达不到小而快的目标效果。

于是找了找其它 `node.js` 的 GUI 方案，结果如下：

* `positron` 兼容于 `electron`，只是 Web 内核方面，把 `Chromium` 换成了 `Gecko`；
* `libui-node` 提供了系统原生 UI，组件 DEMO 虽然略有迟缓，但看来还算完善，可整个项目大小也有上百MB了，似乎暂时没有完善的部署方案；
* `react-x11` 刚刚起步，且并不支持 Windows 平台；
* `node-qt` 似乎水土不服，安装失败（可能是需要 `MSVC++` 而不是 `VS2013` 的缘故）；
* `node-gui` 暂时不能直接在 Windows 平台使用；
* `reactXP` 听起来支持安卓、iOS、桌面等多平台，但具体实现看来只是把 `react-native`、`electron` 等方案整个打包，再增加了对 Win10 的 UWP 支持，依然不是小而轻的选择；

看起来似乎只能选择其他语言了，但写了几年 `js` 已经不想回去写其他语言的异步操作了。

试了试 `python` 的 `Tkinter`，发现挺方便的样子，但能实现的效果似乎很有限；`PyQt` 更美观强大一些，但有学习 QT 的成本。而且两者都不如 Web 方案来的灵活。

其他的 `VB`、`MFC`、`WPF`、`Swing` 开发并不熟练，更难以上手。

这么说来，近几年桌面开发似乎越来越不温不火，大家的关注中心都转移到移动端上了。

移动端原生开发方面，从传统原生开发方式与 `react-native` 的出现、苹果推出 `Swift`，到最近谷歌钦定 `Kotlin` 作为安卓开发的一级语言；前端开发方面，`node.js` 带来的 `grunt`、`gulp`、`webpack` 工作流，以及各种优秀 MVVM 框架竞相出现，让前端开发成为了大家眼中最爱造轮子的一拨人。

移动端涌现的各种新工具、框架、语言，对行业人员来说有一定学习成本，但也确实带来了种种便利，解决了很多以往开发方式中的痛点。提高了生产效率，改善了开发体验，能应用到日渐变化的移动端开发需求上，因此不断受到大家关注。

相比之下，桌面端开发似乎已经失去关注，技术方面也到了瓶颈，没有太多重大变革的样子。

或许可以这么说，现在的我们正在经历着桌面端和移动端重心转移的过渡时期。桌面端 GUI 开发的需求正是存在感日渐稀薄的时候，现有传统的技术方案和开发人员已经能完全应对所有相关需求。虽然上手可能有一定难度，界面灵活度、异步操作便利性等方面并不是大家的关注点，没有人去做或是能够推动相关的变革。

而对于我这样临时的小工具开发需求，基本上就是直接编写命令行工具来处理了。

<!--

发现对于一些很简单的开发需求，核心代码一两K，只用几分钟的小工具，却必须整上百MB的 `electron` 全家桶，开销实在有些太大了。

找到了一些不走浏览器路线的 node.js GUI 库，发现 `libui-node` 体积也不小，但组件 DEMO 看来还算完善；`react-x11` 刚起步，而且似乎不支持 Windows 平台；`positron` 相当于 `electron` 的 `Chromium` 换成 `Gecko`，而且已经放弃维护了；`node-qt` 似乎水土不服，安装失败（可能是需要 `MSVC++` 而不是 `VS2013`）；`node-gui` 暂时不能直接在 Windows 平台使用……

前几天冒头的 `reactXP` 又是一个只求方便不管开销的框架。把多平台方案整个打包，在 `electron` 外增加了对 Win10 的 `UWP` 支持，依然不适合开发轻量小工具。

`python` 的话有 `Tkinter` , `PyQt `等选择，但之前没接触过，有一定学习成本，暂时不作考虑。

